# Upgrade Feature

---

## Функціонал

* **Індикатор:** Кнопка, яка з'являється коли у гравця достатньо ресурсів
* **Анімації:**
    * Анімації реалізовані через DoTween
* **Попап:** При натисканні на індикатор відкривається вікно, що показує:
    * Поточний та наступний рівень будівлі (`LVL 1 > LVL 2`).
    * Вартість покращення.
    * Кнопки для підтвердження апгрейду та закриття попапу.
* **Тестовий UI:** Присутні дві кнопки для зміни балансу

---

## Архітектура

Скрипти розділені на папки `Managers`, `Controllers`, `Views`

### 1. `Managers`

**Містить в собі два Синглтони, один зберігає дані про апгрейди і ресурси, інший викликає попап** 

* **`DataManager`**: Singleton, що зберігає стан гри (ресурси, рівень будівлі). Надає дані та сповіщає систему про їх зміни через подію `OnDataChanged`.
* **`PopupManager`**: Singleton відповідальний виключно за методи `ShowUpgradePopup`, `HideUpgradePopup`

### 2. `Controllers`

Містить компоненти для обробки кліків і оновлення тексту

* **`UpgradeButtonController`**: Бере дані з `DataManager`, Викликає методи `ShowButton`, `HideButton`, підписаний на подію `OnDataChanged`. Звертається до `PopupManager` для відображення попапу

* **`PopupController`**: Бере дані з `DataManager`, щоб оновлювати тексти всередині. Обробляє логіку натискання кнопок всередині попапу.

### `Views`

Компоненти, відповідальні за візуальні анімації.

* **`UpgradeButtonView`**: Керує всіма анімаціями індикатора (поява, зникнення, пульсація) за допомогою DOTween.

* **`PopupView`**: Керує анімацією попапу.

* **`PlayerMoneyView`**: Бере дані з `DataManager`, оновлює кількість ресурсів на екрані.

---

## Вимоги

* **Для таски використовувалась версія Unity 2022.3.62f1**